    :root{
      --brand:#8B5CF6; /* primary */
      --bg:#0b0b10;
      --bg2:#0e0e16;
      --fg:#e6e6f2;
      --muted:#a5a3b8;
      --glass:rgba(255,255,255,.06);
      --glass-bright:rgba(255,255,255,.12);
      --blur:16px;
      --radius:24px;
      --shadow:0 20px 60px rgba(0,0,0,.45), inset 0 0 1px rgba(255,255,255,.06);
      --glow:0 0 30px rgba(139,92,246,.45), 0 0 120px rgba(139,92,246,.25);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:radial-gradient(1200px 800px at 70% -10%, rgba(139,92,246,.18), transparent 60%),
                                radial-gradient(900px 600px at 10% 110%, rgba(0,234,255,.08), transparent 60%),
                                linear-gradient(180deg, var(--bg), var(--bg2));
      color:var(--fg); font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
      overflow:hidden;
    }
    a{color:inherit}

    /* NAV */
    .nav{
      position:fixed; inset:0 0 auto 0; height:96px; display:flex; align-items:center; justify-content:space-between; padding:0 24px; z-index:20;
      background:linear-gradient(to bottom, rgba(11,11,16,.75), rgba(11,11,16,0));
      backdrop-filter:saturate(140%) blur(6px);
      -webkit-backdrop-filter:saturate(140%) blur(6px);
      border-bottom:1px solid rgba(255,255,255,.04);
    }
    .brand{display:flex; gap:12px; align-items:center}
    .brand .logo{
      width:84px; height:84px; flex:0 0 84px;
      background-color:var(--brand);
      -webkit-mask: url('logo.png') center / contain no-repeat;
              mask: url('logo.png') center / contain no-repeat;
      filter: drop-shadow(0 0 12px rgba(139,92,246,.45));
    }
  .brand .name{letter-spacing:.06em; font-weight:700; font-size:32px; display:flex; gap:2px; align-items:baseline}
    .brand .name .oni{ color:#ffffff }
    .brand .name .ai{ color:var(--brand) }
    .nav .login{
      padding:14px 26px; border-radius:16px; border:1px solid rgba(255,255,255,.16);
      background:transparent;
      color:#e8e6ff; cursor:pointer; font-size:20px;
      transition:.35s background-size ease, .25s color, .2s transform, .2s box-shadow, .2s border-color;
      backdrop-filter:blur(6px) saturate(160%);
      -webkit-backdrop-filter:blur(6px) saturate(160%);
      font-weight:700;
      background-image:linear-gradient(90deg, var(--brand), var(--brand));
      background-repeat:no-repeat;
      background-position:left center;
      background-size:0% 100%;
    }
    .nav .login:hover{ 
      transform:translateY(-1px); 
      box-shadow:var(--glow); 
      border-color:rgba(255,255,255,.22);
      background-size:100% 100%;
      color:#fff;
    }

    /* CANVAS LAYERS */
  canvas#digits{ position:fixed; inset:0; z-index:0; }

    /* HERO */
    .hero{ position:relative; z-index:5; height:100vh; display:grid; place-items:center; padding-top:40px; }

    /* OUTLINE TITLE */
    .title-wrap{ position:relative; width:min(86vw, 1200px); height:min(36vh, 360px); pointer-events:none; }
    svg#title{ width:100%; height:100%; filter:drop-shadow(0 10px 40px rgba(139,92,246,.35)); }
    #title text{ fill:transparent; stroke:var(--brand); stroke-width:2.5; paint-order:stroke; stroke-linejoin:round; letter-spacing:.04em; }
    .title-float{ animation:float 6s ease-in-out infinite; }
    @keyframes float{ 0%{ transform:translateY(0)} 50%{ transform:translateY(-12px)} 100%{ transform:translateY(0)} }

    /* CHAT INPUT (under title) */
    .chat-wrap{ position:relative; z-index:6; margin-top:8px; pointer-events:auto; }
    .chat-form{ display:flex; align-items:center; gap:10px; 
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.16); border-radius:18px; padding:12px; 
      box-shadow:var(--shadow); backdrop-filter:blur(14px) saturate(160%); -webkit-backdrop-filter:blur(14px) saturate(160%);
      width:min(820px, 86vw);
    }
    .chat-input{ flex:1; min-width:220px; outline:none; border:none; background:transparent; color:#fff; font-size:18px; padding:10px 12px; letter-spacing:.01em }
  .chat-input::placeholder{ color:#cfcdf1; opacity:.85 }
  .chat-send{ padding:12px 20px; border-radius:12px; border:1.5px solid var(--brand); background:transparent; color:var(--brand); font-weight:800; cursor:pointer; box-shadow:none; transition: background-color .25s ease, color .25s ease, box-shadow .25s ease, transform .2s ease, border-color .25s ease; font-size:16px }
  .chat-send:hover, .chat-send:focus-visible{ background:var(--brand); color:#fff; box-shadow:var(--glow); transform:translateY(-1px); border-color:var(--brand); outline:none }

    /* CHAT SHELL: centers history + chat side-by-side */
  .chat-shell{ position:fixed; z-index:6; left:50%; transform:translateX(-50%); top:136px; bottom:220px; display:none; grid-template-columns: clamp(240px, 22vw, 240px) minmax(420px, 34vw); gap:16px; opacity:0; }
    .chat-shell.show{ display:grid; animation:chatShellIn .7s ease both; }
  @keyframes chatShellIn{ from{ opacity:0; transform:translate(-50%, 8px)} to{ opacity:1; transform:translate(-50%, 0)} }

    /* CHAT HISTORY (left) */
    .chat-history{ display:flex; flex-direction:column; min-height:0; gap:12px; padding:12px; border-radius:24px; border:1px solid rgba(255,255,255,.04);
      background-color: rgba(11,11,16,.72);
      background:linear-gradient(to bottom, rgba(11,11,16,.75), rgba(11,11,16,.62)); box-shadow:var(--shadow); backdrop-filter:saturate(140%) blur(6px); -webkit-backdrop-filter:saturate(140%) blur(6px);
    }
    .history-head{ font-weight:800; letter-spacing:.08em; color:#e9e6ff; padding:4px 6px 6px; border-bottom:1px solid rgba(255,255,255,.06) }
    .history-list{ overflow:auto; padding:6px 2px; display:flex; flex:1 1 auto; min-height:0; flex-direction:column; gap:8px; }
    .history-item{ display:flex; align-items:center; gap:8px; padding:10px 12px; border-radius:12px; cursor:pointer; border:1px solid rgba(255,255,255,.10);
      color:#dcd9ff; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); transition: border-color .2s ease, background-color .2s ease, transform .2s ease }
    .history-item:hover{ border-color:rgba(139,92,246,.45); transform:translateY(-1px) }
    .history-item.active{ border-color:var(--brand); background:linear-gradient(180deg, rgba(139,92,246,.18), rgba(139,92,246,.06)); color:#fff; box-shadow:0 0 10px rgba(139,92,246,.18) }
    .history-title{ flex:1; min-width:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .history-del{ margin-left:auto; display:inline-flex; align-items:center; justify-content:center; width:24px; height:24px; border-radius:8px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04); color:#cfcdf1; font-weight:900; line-height:1; opacity:0; transform:scale(.9); transition:opacity .2s ease, transform .2s ease, background-color .2s ease, border-color .2s ease, color .2s ease; cursor:pointer; }
    .history-item:hover .history-del{ opacity:1; transform:scale(1); }
    .history-del:hover, .history-del:focus-visible{ background:var(--brand); border-color:var(--brand); color:#fff; outline:none; box-shadow:0 0 0 3px rgba(139,92,246,.25); }

    /* CHAT PANEL (inside shell) */
  .chat-panel{ position:relative; width:auto; display:none; grid-template-rows:auto 1fr auto; gap:12px; padding:16px; min-height:0;
      background-color: rgba(11,11,16,.74);
      background:linear-gradient(to bottom, rgba(11,11,16,.78), rgba(11,11,16,.64));
      border:1px solid rgba(255,255,255,.04); border-radius:24px; 
      box-shadow:var(--shadow); backdrop-filter:saturate(140%) blur(6px); -webkit-backdrop-filter:saturate(140%) blur(6px);
    }
    .chat-panel.show{ display:grid; }

    .chat-header{ display:flex; align-items:center; justify-content:space-between; padding:8px 8px 10px; border-bottom:1px solid rgba(255,255,255,.06) }
    .chat-title{ font-weight:800; letter-spacing:.08em; color:#e9e6ff }
    .chat-sub{ font-size:12px; color:#bdbad9 }
    .chat-actions{ display:flex; align-items:center; gap:8px }
    .chat-new{ padding:8px 12px; border:1.5px solid var(--brand); background:transparent; color:var(--brand); border-radius:8px; font-weight:700; cursor:pointer;
      transition: background-color .25s ease, color .25s ease, box-shadow .25s ease, transform .2s ease }
    .chat-new:hover, .chat-new:focus-visible{ background:var(--brand); color:#fff; box-shadow:var(--glow); transform:translateY(-1px) }

  .chat-body{ overflow:auto; padding:8px; display:flex; flex-direction:column; gap:12px; min-height:0; }
    .msg{ max-width:min(70ch, 80%); padding:12px 14px; border-radius:16px; line-height:1.5; font-size:15px; }
    .msg.user{ align-self:flex-end; color:#f7f5ff; border:1px solid rgba(255,255,255,.12);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      backdrop-filter:blur(8px) saturate(150%); -webkit-backdrop-filter:blur(8px) saturate(150%);
    }
    .msg.ai{ align-self:flex-start; color:#ece9ff; border:1px solid rgba(139,92,246,.24);
      background:linear-gradient(180deg, rgba(139,92,246,.18), rgba(139,92,246,.06)); box-shadow:0 0 12px rgba(139,92,246,.16);
      backdrop-filter:blur(8px) saturate(150%); -webkit-backdrop-filter:blur(8px) saturate(150%);
    }
    .typing{ opacity:.85; font-style:italic; color:#cfcdf1 }

    /* Chat footer styled like the initial chat form */
    .chat-footer{ display:flex; align-items:center; gap:10px; padding:12px; border-radius:18px;
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.16);
      box-shadow:var(--shadow);
      backdrop-filter:blur(14px) saturate(160%);
      -webkit-backdrop-filter:blur(14px) saturate(160%);
    }
    .chat-footer .chat-input{ background:transparent; flex:1 1 auto; min-width:0; }
    .chat-footer .chat-send{ white-space:nowrap }

    /* fade/blur out for title & mini input */
    .title-wrap.hide{ opacity:0; filter:blur(10px); transition:opacity .5s ease, filter .5s ease; }
    .chat-wrap.hide{ opacity:0; filter:blur(10px); transition:opacity .4s ease, filter .4s ease; }


    /* GLASS CARDS */
    .stack{ position:absolute; inset:auto 0 40px 0; display:flex; gap:24px; justify-content:center; flex-wrap:wrap; padding:0 24px; }
    .card{
      min-width:240px; max-width:320px; padding:18px 18px; border-radius:var(--radius);
      background:linear-gradient(180deg, var(--glass-bright), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.12);
      box-shadow:var(--shadow); backdrop-filter:blur(var(--blur)) saturate(160%);
      -webkit-backdrop-filter:blur(var(--blur)) saturate(160%);
    }
    .card h3{ margin:0 0 6px; font-size:14px; letter-spacing:.14em; text-transform:uppercase; color:#d9d6ff }
    .card p{ margin:0; color:var(--muted); font-size:14px }

    /* LOGIN / ONBOARD OVERLAY */
  .overlay{ position:fixed; inset:0; display:none; place-items:center; z-index:40; background:#000; }
    .overlay.show{ display:grid; animation:fadeIn .6s ease both; }
    @keyframes fadeIn{ from{opacity:0} to{opacity:1} }
  .overlay.hiding{ display:grid; animation:fadeOutBlur .6s ease both; }
  @keyframes fadeOutBlur{ from{opacity:1; filter:blur(10px)} to{opacity:0; filter:blur(0)} }

    .intro{ position:relative; width:min(860px, 92vw); min-height:340px; display:grid; place-items:center; }
    .intro .hi, .intro .ask, .intro .form{ position:absolute; opacity:0; transform:translateY(8px); filter:blur(6px); transition:opacity .6s ease, transform .6s ease, filter .6s ease; }
    .intro .show{ opacity:1; transform:translateY(0); filter:blur(0); }
    .intro .hi{ font-size:96px; font-weight:300; letter-spacing:.04em; color:#ffffff; 
      text-shadow: 0 0 22px rgba(255,255,255,.65), 0 0 70px rgba(255,255,255,.35); }
  .intro .ask{ font-size:26px; color:#c7c5de }

    .glass-form{ display:flex; gap:12px; align-items:stretch; background:transparent; border:none; border-radius:18px; padding:0; box-shadow:none; backdrop-filter:none; -webkit-backdrop-filter:none;}
    .glass-input{ flex:1; min-width:240px; outline:none; 
      border:1.5px solid rgba(255,255,255,.28); border-radius:14px;
      background:transparent; color:#fff; font-size:18px; padding:12px 14px; letter-spacing:.02em;
      transition: border-color .25s ease, box-shadow .25s ease, transform .2s ease, border-width .2s ease;
    }
    .glass-input:hover{
      border-color: rgba(139,92,246,.55);
      box-shadow: 0 0 0 4px rgba(139,92,246,.12), inset 0 0 18px rgba(139,92,246,.06);
    }
    .glass-input:focus{
      border-width:1px;
      border-color: var(--brand);
      box-shadow: 0 0 0 5px rgba(139,92,246,.16), 0 0 22px rgba(139,92,246,.22);
      transform: translateY(-1px);
    }
    /* Keep border thinner when there's text */
    .glass-input:not(:placeholder-shown){ border-width:1px; }
    .glass-btn{ padding:10px 16px; border-radius:12px; border:1.5px solid var(--brand); background:transparent; color:var(--brand); font-weight:700; cursor:pointer; box-shadow:none; transition: background-color .25s ease, color .25s ease, box-shadow .25s ease, transform .2s ease, border-color .25s ease }
    .glass-btn:hover, .glass-btn:focus-visible{ background:var(--brand); color:#fff; box-shadow:var(--glow); transform:translateY(-1px); border-color:var(--brand) }

    /* MICRO BADGES & FUTURE DETAILS */
    .badges{ position:fixed; left:24px; bottom:24px; display:flex; gap:10px; z-index:10 }
    .badge{ font-size:11px; letter-spacing:.12em; text-transform:uppercase; color:#bfbceb; padding:8px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.14); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); backdrop-filter:blur(8px) saturate(150%); -webkit-backdrop-filter:blur(8px) saturate(150%)}

    /* ACCESSIBILITY HIDDEN (but still announced) */
    .sr-only{ position:absolute; width:1px; height:1px; margin:-1px; padding:0; overflow:hidden; clip:rect(0,0,0,0); border:0; }